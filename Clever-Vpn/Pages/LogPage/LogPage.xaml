<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="Clever_Vpn.Pages.LogPage.LogPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Clever_Vpn.Pages.LogPage"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:c="using:Clever_Vpn.components"
    xmlns:utils="using:Clever_Vpn.utils"
    Loaded="UserControl_Loaded"
    Unloaded="UserControl_Unloaded"
    mc:Ignorable="d">
    <Grid     
        RequestedTheme="Light"
        >

        <c:Layout>
            <c:Layout.TopBar>
                <c:TopBar x:Name="TopBar" >
                    <c:TopBar.LeftContent>
                        <AppBarButton Icon="Back"  
                                      Width="48" Height="48"
                                      Click="OnBackClick" />
                    </c:TopBar.LeftContent>
                    <TextBlock x:Uid="Logs1" Style="{StaticResource SubtitleTextBlockStyle}" />
                    <c:TopBar.RightContent>
                        <AppBarButton Icon="Save"  
                                    Width="48" Height="48"
                                    Click="OnSaveClick" />
                    </c:TopBar.RightContent>

                </c:TopBar>
            </c:Layout.TopBar>
            <ListView ItemsSource="{x:Bind Vm.LogItems}" Loaded="OnListViewLoaded">
                <ListView.ItemTemplate>
                    <!-- <DataTemplate x:DataType="utils:LogItem"> -->
                    <DataTemplate x:DataType="x:String">
                        <RichTextBlock Padding="8" TextWrapping="Wrap">
                            <Paragraph>
       <!--                         <Run Text="{x:Bind local:LogPage.FormatDateTime(Stamp), Mode=OneWay}" FontSize="12" Foreground="Gray"/>
                                <Run Text=" "/>
                                <Run Text="{x:Bind Message, Mode=OneWay}" FontSize="12"/> -->
                                <Run Text="{x:Bind Mode=OneWay}" FontSize="12" />  
                            </Paragraph>
                        </RichTextBlock>
                    </DataTemplate>
                </ListView.ItemTemplate>
            </ListView>
        </c:Layout>
        <InfoBar x:Name="InfoBar"
            Margin="0,40,0,0"
            Severity="Success"
            Title="Save Logs"
            Message="Logs file saves sucessfully!" />
    </Grid>
</Page>
